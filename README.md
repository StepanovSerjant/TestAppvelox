# Тестовое задание для Appvelox.

## Задание:
Написать веб-сервис предоставляющий RESTful API для управленияперсональным списком задач.

## Описание:
Необходимо реализовать сервис, предоставляющий API (REST) для управления персональным списком задач. Сервис должен предоставлять следующие функции(каждая из этих функций должна быть представлена отдельным URL/Эндпоинтом API):
- Создание нового пользователя (Регистрация) (POST -- <localhost>/users/register)
- Логин (получение токена для запросов) (POST -- <localhost>/users/login)
- Получение списка задач пользователя (GET -- <localhost>/tasks)
- Создание новой задачи пользователя (POST -- <localhost>/tasks)
- Удаление задачи (DELETE -- <localhost>/tasks/{id})
- Получение конкретной задачи пользователя по id (GET -- <localhost>/tasks/{id})
- Отметка задачи как выполненной (PATCH -- <localhost>/tasks/completed/{id})

Авторизация должна производиться с использованием заголовка Authorization, вида. Authorization: Token <token> - где <token> - уникальный токен полученный после логина.
Данные для регистрации и входа: email и пароль. 
Данные для создания новой задачи: заголовок, текст задачи, дата выполнения.
Данные получаемые о задаче: заголовок, текст задачи, дата выполнения, отметка о фактевыполнения.
Все данные должны передаваться в формате JSON. Необходимо предусмотреть обработку ошибочных ситуаций и возврат в данном случае корректных значений.
Необходимо написать тесты для реализованного сервиса. Остальное – на вашеусмотрение, но все принятые решения необходимо будет обосновать.

__Технологии__:
- Backend: любой из перечисленных (Django, Flask, Pyramid, CherryPy, aiohttp, FastAPI)
- База данных: любая из перечисленных (SQLite, PostgreSQL, MongoDB)

## Реализация:

В качестве _backend_ технологии мною был выбран __FastAPI__ по нескольким причинам:
- хорошая репутация и отзывы в OpenSource community;
- интегрируется с OpenAPI-schema и автоматически генерирует документацию;
- нативная асинхронность, благодаря asyncio;
- комфортная работа со схемами данных в pydantic c type-hints;
- многочисленные настраиваемые модули проверки подлинности в fastapi_users;
- интеграция с SQLAlchemy.

Базой данных в данном проекте является PostgreSQL, как наиболее "дружелюбная" для языка Python и известная своей расширяемостью БД. Также Postgres подкупает встроенной поддержкой json, которой можно воспользоваться при необходимости хранить json объекты.


## Установка:

### Клонирование репозитория
```
    mkdir Test Appvelox
    cd Test Appvelox
    git clone https://github.com/StepanovSerjant/TestAppvelox.git
```

### Создание и активирование виртуального окружения
___Windows___
```
    python -m venv .venv
    .venv\Scripts\activate
```
___Linux___
```
    /usr/bin/python3 -m venv .venv
    source .venv/bin/activate
```

### Установка необходимых пакетов из файла зависимостей
```
    pip install -r requirements.txt
```

### Настройка данных конфигурации

Прошу обратить ваше внимание, что необходимо указать настройки для базы данных в файле _.env_

### Миграции

```
    alembic revision --autogenerate -m "Message"
    alembic upgrade head
```

### Запуск
```
    uvicorn main:app --reload
```

### Запуск тестов регистрации и авторизации пользователя
```
    pytest test/test_users.py
```

### Запуск тестов работы ендпоинтов задач
```
    pytest test/test_tasks.py
```